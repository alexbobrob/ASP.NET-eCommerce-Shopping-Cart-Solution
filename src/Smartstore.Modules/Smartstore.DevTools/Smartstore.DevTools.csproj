<Project Sdk="Microsoft.NET.Sdk.Razor">

  <PropertyGroup>
    <OutputType>Library</OutputType>
    <TargetFramework>net5.0</TargetFramework>
		<AddRazorSupportForMvc>true</AddRazorSupportForMvc>
		<MvcRazorCompileOnPublish>false</MvcRazorCompileOnPublish>
		<RazorCompileOnBuild>false</RazorCompileOnBuild>
		<EnableDefaultContentItems>false</EnableDefaultContentItems>
		<PreserveCompilationContext>true</PreserveCompilationContext>
		<PreserveCompilationReferences>false</PreserveCompilationReferences>
		<!--<MvcRazorExcludeRefAssembliesOnBuild>true</MvcRazorExcludeRefAssembliesOnBuild>-->
		<CopyLocalLockFileAssemblies>false</CopyLocalLockFileAssemblies>
		<OutputPath>..\..\Smartstore.Web\Modules\Smartstore.DevTools</OutputPath>
		<OutDir>$(OutputPath)</OutDir>
  </PropertyGroup>

	<PropertyGroup>
		<GenerateAssemblyCompanyAttribute>false</GenerateAssemblyCompanyAttribute>
		<GenerateAssemblyProductAttribute>false</GenerateAssemblyProductAttribute>
		<GenerateAssemblyConfigurationAttribute>false</GenerateAssemblyConfigurationAttribute>
		<GenerateAssemblyCopyrightAttribute>false</GenerateAssemblyCopyrightAttribute>
		<GenerateAssemblyVersionAttribute>false</GenerateAssemblyVersionAttribute>
		<GenerateAssemblyFileVersionAttribute>false</GenerateAssemblyFileVersionAttribute>
		<GenerateAssemblyInformationalVersionAttribute>false</GenerateAssemblyInformationalVersionAttribute>
	</PropertyGroup>
	
	<PropertyGroup>
		<Copyright>Copyright © Smartstore AG</Copyright>
		<Company>Smartstore AG</Company>
		<Authors>Smartstore AG</Authors>
		<PackageProjectUrl>https://smartstore.com/</PackageProjectUrl>
		<RepositoryUrl>https://github.com/smartstore/Smartstore</RepositoryUrl>
		<RepositoryType>Git</RepositoryType>		
	</PropertyGroup>
	
	<!--<ItemGroup>
	  <None Remove="manifest.json" />
	  <None Remove="wwwroot\placeholder.txt" />
	</ItemGroup>-->

	<ItemGroup>
	  <Content Include="module.json">
	    <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
	  </Content>
		<Content Include="wwwroot\*">
			<CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
		</Content>
		<Content Include="Views\**\*.cshtml">
      <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
    </Content>
	</ItemGroup>

	<ItemGroup>
	  <None Remove="Views\Configure.cshtml" />
	  <None Remove="Views\_ViewImports.cshtml" />
	  <None Remove="Views\_ViewStart.cshtml" />
	</ItemGroup>

  <ItemGroup>
		<FrameworkReference Include="Microsoft.AspNetCore.App" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\..\Smartstore.Core\Smartstore.Core.csproj">
      <Private>false</Private>
      <CopyLocalSatelliteAssemblies>false</CopyLocalSatelliteAssemblies>
    </ProjectReference>
    <ProjectReference Include="..\..\Smartstore.Web.Common\Smartstore.Web.Common.csproj">
      <Private>false</Private>
      <CopyLocalSatelliteAssemblies>false</CopyLocalSatelliteAssemblies>
    </ProjectReference>
    <ProjectReference Include="..\..\Smartstore\Smartstore.csproj">
      <Private>false</Private>
      <CopyLocalSatelliteAssemblies>false</CopyLocalSatelliteAssemblies>
    </ProjectReference>
  </ItemGroup>

  <ItemGroup>
    <!--<Folder Include="Properties\" />-->
		<Compile Include="..\..\AssemblySharedInfo.cs">
			<Link>Properties\AssemblySharedInfo.cs</Link>
		</Compile>
		<Compile Include="..\..\AssemblyVersionInfo.cs">
			<Link>Properties\AssemblyVersionInfo.cs</Link>
		</Compile>
  </ItemGroup>

  <ItemGroup>
    <Content Update="Views\_ViewImports.cshtml">
      <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
    </Content>
    <Content Update="Views\DevTools\Configure.cshtml">
      <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
    </Content>
    <Content Update="Views\_ViewStart.cshtml">
      <ExcludeFromSingleFile>true</ExcludeFromSingleFile>
      <CopyToPublishDirectory>PreserveNewest</CopyToPublishDirectory>
    </Content>
  </ItemGroup>

	<!-- Remove files from copy local that would not be published as they are provided by the platform package --><!--
	<Target Name="FilterCopyLocal" DependsOnTargets="RunResolvePublishAssemblies" BeforeTargets="ResolveLockFileCopyLocalProjectDeps">
		<ItemGroup>
			<_CopyLocalButNotPublished Include="@(AllCopyLocalItems)" Exclude="@(ResolvedAssembliesToPublish)" />
			<AllCopyLocalItems Remove="@(_CopyLocalButNotPublished)" />
		</ItemGroup>
	</Target>-->

</Project>
