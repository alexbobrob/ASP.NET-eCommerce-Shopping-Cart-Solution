@model SendPrivateMessageModel

<a href="#sendprivatemessage-window" data-toggle="modal" class="dropdown-item">@T("Admin.Customers.Customers.SendPM")</a>

<modal id="sendprivatemessage-window" sm-render-at-page-end="true" sm-size="Medium">
    <modal-header sm-title="@T("Admin.Customers.Customers.SendPM")"></modal-header>
    <modal-body>
        <form asp-action="SendPm" asp-controller="ForumAdmin">
            <input type="hidden" asp-for="ToCustomerId" />

            <div asp-validation-summary="ModelOnly"></div>

            <div class="adminContent">
                <div class="adminRow wide">
                    @Html.LabelFor(x => x.CustomerToName, new { @class = "pr-3", style = "font-weight: 600"})
                    <span>@Model.CustomerToName</span>
                </div>
                <div class="adminRow wide">
                    <div class="adminTitle">
                        <smart-label asp-for="Subject" />
                    </div>
                    <div class="adminData">
                        <input asp-for="Subject" />
                        <span asp-validation-for="Subject"></span>
                    </div>
                </div>
                <div class="adminRow wide">
                    <div class="adminTitle">
                        <smart-label asp-for="Message" />
                    </div>
                    <div class="adminData">
                        <editor asp-for="Message" />
                        <span asp-validation-for="Message"></span>
                    </div>
                </div>
            </div>
        </form>
    </modal-body>
    <modal-footer>
        <button class="btn btn-secondary btn-flat" data-dismiss="modal" aria-hidden="true">
            <span>@T("Common.Close")</span>
        </button>
        <button type="submit" id="sendprivatemessage" class="btn btn-primary">
            <i class="fa fa-envelope"></i>
            <span>@T("PrivateMessages.Send.SendButton")</span>
        </button>
    </modal-footer>
</modal>

<script sm-target-zone="scripts" data-origin="SendPrivateMessageWindow">
    $(function () {
        $("#sendprivatemessage").click(function (e) {
            e.preventDefault();
            $("#sendprivatemessage-window").find("form").submit();
        });
    });
</script>